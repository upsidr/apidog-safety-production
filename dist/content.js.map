{"version":3,"file":"content.js","mappings":";;;;;AAAA,SAASA,UAAUA,CAACC,QAAQ,EAAEC,cAAc,EAAE;EAC1CC,OAAO,CAACC,GAAG,CAAC,gCAAgC,CAAC;EAC7C,IAAIC,OAAO,CAAC,yBAAyB,CAAC,EAAE;IACpCJ,QAAQ,CAAC,CAAC;EACd,CAAC,MAAM;IACHC,cAAc,CAAC,CAAC;EACpB;AACJ;AAEA,IAAII,OAAO,GAAG,KAAK;AACnB,SAASC,oBAAoBA,CAACC,YAAY,EAAE;EAExC,IAAIA,YAAY,IAAI,CAACA,YAAY,CAACC,OAAO,CAACC,gBAAgB,EAAE;IACxDP,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC;IAChCI,YAAY,CAACC,OAAO,CAACC,gBAAgB,GAAG,MAAM;IAE9C,IAAMC,OAAO,GAAG,SAAVA,OAAOA,CAAaC,KAAK,EAAE;MAC7BA,KAAK,CAACC,cAAc,CAAC,CAAC;MACtB,IAAI,CAACP,OAAO,EAAE;QACVN,UAAU,CACN,YAAM;UACFM,OAAO,GAAG,IAAI;UACdE,YAAY,CAACM,KAAK,CAAC,CAAC;UACpBR,OAAO,GAAG,KAAK;UACfH,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC;QACnC,CAAC,EACD,YAAM;UACFQ,KAAK,CAACG,eAAe,CAAC,CAAC;UACvBZ,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC;QACpC,CACJ,CAAC;MACL;IACJ,CAAC;IAEDI,YAAY,CAACQ,gBAAgB,CAAC,OAAO,EAAEL,OAAO,EAAE,IAAI,CAAC;IACrDH,YAAY,CAACG,OAAO,GAAGA,OAAO;EAClC;AACJ;AAEA,SAASM,oBAAoBA,CAACT,YAAY,EAAE;EACxC,IAAIA,YAAY,IAAIA,YAAY,CAACC,OAAO,CAACC,gBAAgB,KAAK,MAAM,EAAE;IAClEP,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC;IAChCI,YAAY,CAACU,mBAAmB,CAAC,OAAO,EAAEV,YAAY,CAACG,OAAO,EAAE,IAAI,CAAC;IACrEH,YAAY,CAACC,OAAO,CAACC,gBAAgB,GAAG,EAAE;IAC1C,OAAOF,YAAY,CAACG,OAAO;EAC/B;AACJ;AAEA,IAAMQ,QAAQ,GAAG,IAAIC,gBAAgB,CAAC,YAAM;EACxC,IAAMZ,YAAY,GAAGa,QAAQ,CAACC,aAAa,CAAC,yFAAyF,CAAC;EACtI,IAAMC,GAAG,GAAGF,QAAQ,CAACC,aAAa,CAAC,6FAA6F,CAAC;EACjI,IAAId,YAAY,IAAIe,GAAG,EAAE;IACrB,IAAIA,GAAG,CAACC,YAAY,CAAC,OAAO,CAAC,KAAK,cAAc,EAAE;MAC9CjB,oBAAoB,CAACC,YAAY,CAAC;IACtC,CAAC,MAAM,IAAIe,GAAG,CAACC,YAAY,CAAC,OAAO,CAAC,KAAK,cAAc,IAAIhB,YAAY,CAACC,OAAO,CAACC,gBAAgB,KAAK,MAAM,EAAE;MACzGO,oBAAoB,CAACT,YAAY,CAAC;IACtC;EACJ;AACJ,CAAC,CAAC;AAEFW,QAAQ,CAACM,OAAO,CAACJ,QAAQ,CAACK,IAAI,EAAE;EAACC,SAAS,EAAE,IAAI;EAAEC,OAAO,EAAE;AAAI,CAAC,CAAC,C","sources":["webpack:///./src/content.js"],"sourcesContent":["function showDialog(callback, cancelCallback) {\n    console.log('Displaying confirmation dialog');\n    if (confirm(\"これは本番環境です。リクエストを送信しますか？\")) {\n        callback();\n    } else {\n        cancelCallback();\n    }\n}\n\nlet isClick = false;\nfunction attachButtonListener(targetButton) {\n\n    if (targetButton && !targetButton.dataset.listenerAttached) {\n        console.log('Listener attached');\n        targetButton.dataset.listenerAttached = 'true';\n\n        const handler = function (event) {\n            event.preventDefault();\n            if (!isClick) {\n                showDialog(\n                    () => {\n                        isClick = true;\n                        targetButton.click();\n                        isClick = false;\n                        console.log('Request executed');\n                    },\n                    () => {\n                        event.stopPropagation();\n                        console.log('Request cancelled');\n                    }\n                );\n            }\n        };\n\n        targetButton.addEventListener('click', handler, true);\n        targetButton.handler = handler;\n    }\n}\n\nfunction detachButtonListener(targetButton) {\n    if (targetButton && targetButton.dataset.listenerAttached === 'true') {\n        console.log('Listener detached');\n        targetButton.removeEventListener('click', targetButton.handler, true);\n        targetButton.dataset.listenerAttached = '';\n        delete targetButton.handler;\n    }\n}\n\nconst observer = new MutationObserver(() => {\n    const targetButton = document.querySelector('button[title=\"⌘ ⏎\"].ui-btn.ui-btn-primary.ui-btn-compact-item.ui-btn-compact-first-item');\n    const env = document.querySelector('div.panel-group-panel-wrapper  div.ui-select-selector span.flex.items-center.truncate.block')\n    if (targetButton && env) {\n        if (env.getAttribute('title') === 'Production環境') {\n            attachButtonListener(targetButton);\n        } else if (env.getAttribute('title') !== 'Production環境' && targetButton.dataset.listenerAttached === 'true') {\n            detachButtonListener(targetButton);\n        }\n    }\n});\n\nobserver.observe(document.body, {childList: true, subtree: true});\n"],"names":["showDialog","callback","cancelCallback","console","log","confirm","isClick","attachButtonListener","targetButton","dataset","listenerAttached","handler","event","preventDefault","click","stopPropagation","addEventListener","detachButtonListener","removeEventListener","observer","MutationObserver","document","querySelector","env","getAttribute","observe","body","childList","subtree"],"sourceRoot":""}