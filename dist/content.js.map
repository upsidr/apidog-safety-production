{"version":3,"file":"content.js","mappings":"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","sources":["webpack:///./src/content.js"],"sourcesContent":["function showDialog(callback, cancelCallback) {\n    console.log('Displaying confirmation dialog');\n    if (confirm(\"これは本番環境です。リクエストを送信しますか？\")) {\n        callback();\n    } else {\n        cancelCallback();\n    }\n}\n\nfunction attachButtonListener(targetButton) {\n    targetButton.dataset.listenerAttached = 'true';\n    targetButton.dataset.clicked = '';\n    const handler = function (event) {\n        event.preventDefault();\n        if (!targetButton.dataset.clicked) {\n            targetButton.dataset.clicked = 'true';\n            showDialog(\n                () => {\n                    targetButton.removeEventListener('click', handler, true);\n                    targetButton.click();\n                    targetButton.dataset.clicked = '';\n                    targetButton.addEventListener('click', handler, true);\n                    console.log('Request executed');\n                },\n                () => {\n                    targetButton.dataset.clicked = '';\n                    event.stopPropagation();\n                    console.log('Request cancelled');\n                }\n            );\n        }\n    };\n\n    targetButton.addEventListener('click', handler, true);\n    targetButton.handler = handler;\n    console.log('Listener attached');\n}\n\nfunction detachButtonListener(targetButton) {\n    if (targetButton.handler) {\n        targetButton.removeEventListener('click', targetButton.handler, true);\n        targetButton.dataset.listenerAttached = '';\n        delete targetButton.handler;\n        console.log('Listener detached');\n    }\n}\n\nconst observer = new MutationObserver((mutations) => {\n    mutations.forEach((mutation) => {\n        mutation.addedNodes.forEach((node) => {\n            if (node.nodeType === Node.ELEMENT_NODE) {\n                const env = document.querySelector('div.panel-group-panel-wrapper div.ui-select-selector span.flex.items-center.truncate.block');\n                const targetButtons = document.querySelectorAll('button[title=\"⌘ ⏎\"].ui-btn.ui-btn-primary.ui-btn-compact-item.ui-btn-compact-first-item');\n\n                targetButtons.forEach(targetButton => {\n                    if (env && env.getAttribute('title') === 'Production環境') {\n                        if (!targetButton.dataset.listenerAttached) {\n                            attachButtonListener(targetButton);\n                        }\n                    } else {\n                        if (targetButton.dataset.listenerAttached === 'true') {\n                            detachButtonListener(targetButton);\n                        }\n                    }\n                });\n            }\n        });\n    });\n});\n\nobserver.observe(document.body, {childList: true, subtree: true, attributes: true, attributeFilter: ['title']});\n"],"names":["showDialog","callback","cancelCallback","console","log","confirm","attachButtonListener","targetButton","dataset","listenerAttached","clicked","handler","event","preventDefault","removeEventListener","click","addEventListener","stopPropagation","detachButtonListener","observer","MutationObserver","mutations","forEach","mutation","addedNodes","node","nodeType","Node","ELEMENT_NODE","env","document","querySelector","targetButtons","querySelectorAll","getAttribute","observe","body","childList","subtree","attributes","attributeFilter"],"sourceRoot":""}